(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{685:function(e,n,t){"use strict";t.r(n);var r=t(664),a=t(0),o=t.n(a),i=t(686);Object(r.installWADOImageLoader)(),n.default=()=>{const e=Object(a.useMemo)(()=>new r.CornerstoneSingleImage("wadouri:https://lunit-io.github.io/frontend-fixtures/dcm-files/series/CT000010.dcm",{unload:r.unloadImage}),[]),{cornerstoneRenderData:n,updateCornerstoneRenderData:t}=Object(r.useInsightViewerSync)(),s=Object(a.useMemo)(()=>Date.now(),[]);return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(r.InsightViewer,{width:400,height:500,invert:!1,flip:!1,pan:!0,adjust:!1,zoom:!0,resetTime:s,image:e,updateCornerstoneRenderData:t}),o.a.createElement("div",{style:{position:"relative",width:400,height:500,backgroundColor:"navy"}},o.a.createElement(r.HeatmapViewer,{width:400,height:500,posMap:i.engine_result.engine_result.pos_map,threshold:.1,cornerstoneRenderData:n})))}},687:function(e,n,t){"use strict";t.r(n),n.default="import {\n  CornerstoneImage,\n  CornerstoneSingleImage,\n  HeatmapViewer,\n  InsightViewer,\n  installWADOImageLoader,\n  unloadImage,\n  useInsightViewerSync,\n} from '@lunit/insight-viewer';\nimport React, { useMemo } from 'react';\nimport data from '../../../__fixtures__/posMap.sample.json';\n\ninstallWADOImageLoader();\n\nexport default () => {\n  const image: CornerstoneImage = useMemo(\n    () =>\n      new CornerstoneSingleImage(`wadouri:https://lunit-io.github.io/frontend-fixtures/dcm-files/series/CT000010.dcm`, {\n        unload: unloadImage,\n      }),\n    [],\n  );\n\n  const { cornerstoneRenderData, updateCornerstoneRenderData } = useInsightViewerSync();\n\n  const resetTime = useMemo<number>(() => Date.now(), []);\n\n  return (\n    <div style={{ display: 'flex' }}>\n      <InsightViewer\n        width={400}\n        height={500}\n        invert={false}\n        flip={false}\n        pan={true}\n        adjust={false}\n        zoom={true}\n        resetTime={resetTime}\n        image={image}\n        updateCornerstoneRenderData={updateCornerstoneRenderData} // \ubc1b\uc544\uc11c\n      />\n      <div style={{ position: 'relative', width: 400, height: 500, backgroundColor: 'navy' }}>\n        <HeatmapViewer\n          width={400}\n          height={500}\n          posMap={data.engine_result.engine_result.pos_map}\n          threshold={0.1}\n          cornerstoneRenderData={cornerstoneRenderData} // \ub123\uc5b4\uc900\ub2e4\n        />\n      </div>\n    </div>\n  );\n};\n"},688:function(e,n,t){"use strict";t.r(n);var r=t(664),a=t(0),o=t.n(a);Object(r.installWADOImageLoader)(),n.default=()=>{const e=Object(a.useMemo)(()=>new r.CornerstoneSingleImage("wadouri:https://lunit-io.github.io/frontend-fixtures/dcm-files/series/CT000010.dcm",{unload:r.unloadImage}),[]),n=Object(a.useMemo)(()=>new r.CornerstoneSingleImage("wadouri:https://lunit-io.github.io/frontend-fixtures/dcm-files/series/CT000020.dcm",{unload:r.unloadImage}),[]),t=Object(a.useMemo)(()=>new r.CornerstoneSingleImage("wadouri:https://lunit-io.github.io/frontend-fixtures/dcm-files/series/CT000030.dcm",{unload:r.unloadImage}),[]),i=Object(a.useRef)(null),s=Object(a.useRef)(null),{updateMasterRenderData:l}=Object(r.useViewportMirroring)(i,s),d=Object(a.useMemo)(()=>Date.now(),[]);return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(r.InsightViewer,{width:400,height:500,invert:!1,flip:!1,pan:!0,adjust:!1,zoom:!0,resetTime:d,image:e,updateCornerstoneRenderData:l}),o.a.createElement(r.InsightViewer,{ref:i,width:400,height:500,invert:!1,flip:!1,pan:!0,adjust:!1,zoom:!0,resetTime:d,image:n,updateCornerstoneRenderData:()=>{}}),o.a.createElement(r.InsightViewer,{ref:s,width:400,height:500,invert:!1,flip:!1,pan:!0,adjust:!1,zoom:!0,resetTime:d,image:t,updateCornerstoneRenderData:()=>{}}))}},689:function(e,n,t){"use strict";t.r(n),n.default="import {\n  CornerstoneImage,\n  CornerstoneSingleImage,\n  InsightViewer,\n  installWADOImageLoader,\n  unloadImage,\n  useViewportMirroring,\n} from '@lunit/insight-viewer';\nimport React, { useMemo, useRef } from 'react';\n\ninstallWADOImageLoader();\n\nexport default () => {\n  const image1: CornerstoneImage = useMemo(\n    () =>\n      new CornerstoneSingleImage(`wadouri:https://lunit-io.github.io/frontend-fixtures/dcm-files/series/CT000010.dcm`, {\n        unload: unloadImage,\n      }),\n    [],\n  );\n\n  const image2: CornerstoneImage = useMemo(\n    () =>\n      new CornerstoneSingleImage(`wadouri:https://lunit-io.github.io/frontend-fixtures/dcm-files/series/CT000020.dcm`, {\n        unload: unloadImage,\n      }),\n    [],\n  );\n\n  const image3: CornerstoneImage = useMemo(\n    () =>\n      new CornerstoneSingleImage(`wadouri:https://lunit-io.github.io/frontend-fixtures/dcm-files/series/CT000030.dcm`, {\n        unload: unloadImage,\n      }),\n    [],\n  );\n\n  const viewer2 = useRef<InsightViewer>(null);\n\n  const viewer3 = useRef<InsightViewer>(null);\n\n  const { updateMasterRenderData } = useViewportMirroring(viewer2, viewer3);\n\n  const resetTime = useMemo<number>(() => Date.now(), []);\n\n  return (\n    <div style={{ display: 'flex' }}>\n      <InsightViewer\n        width={400}\n        height={500}\n        invert={false}\n        flip={false}\n        pan={true}\n        adjust={false}\n        zoom={true}\n        resetTime={resetTime}\n        image={image1}\n        updateCornerstoneRenderData={updateMasterRenderData}\n      />\n      <InsightViewer\n        ref={viewer2}\n        width={400}\n        height={500}\n        invert={false}\n        flip={false}\n        pan={true}\n        adjust={false}\n        zoom={true}\n        resetTime={resetTime}\n        image={image2}\n        updateCornerstoneRenderData={() => {}}\n      />\n      <InsightViewer\n        ref={viewer3}\n        width={400}\n        height={500}\n        invert={false}\n        flip={false}\n        pan={true}\n        adjust={false}\n        zoom={true}\n        resetTime={resetTime}\n        image={image3}\n        updateCornerstoneRenderData={() => {}}\n      />\n    </div>\n  );\n};\n"},770:function(e,n,t){"use strict";t.r(n);var r=t(664),a=t(0),o=t.n(a);Object(r.installWADOImageLoader)(),n.default=()=>{const[e,n]=Object(a.useState)(()=>[]),t=Object(a.useMemo)(()=>new r.CornerstoneSingleImage("wadouri:https://lunit-io.github.io/frontend-fixtures/dcm-files/series/CT000010.dcm",{unload:r.unloadImage}),[]),i=Object(a.useCallback)(e=>{console.log("UPDATE RENDER DATA:",e),n(n=>[...n,`[update]: ${JSON.stringify(e.viewport)}`])},[]),s=Object(a.useMemo)(()=>Date.now(),[]);return o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(r.InsightViewer,{width:400,height:500,invert:!1,flip:!1,pan:!0,adjust:!1,zoom:!0,resetTime:s,image:t,updateCornerstoneRenderData:i}),o.a.createElement("div",{style:{height:500,overflowY:"auto"}},o.a.createElement("ul",{style:{fontSize:11}},e.map((e,n)=>o.a.createElement("li",{key:n},e)))))}},771:function(e,n,t){"use strict";t.r(n),n.default="import {\n  CornerstoneImage,\n  CornerstoneRenderData,\n  CornerstoneSingleImage,\n  InsightViewer,\n  installWADOImageLoader,\n  unloadImage,\n} from '@lunit/insight-viewer';\nimport React, { useCallback, useMemo, useState } from 'react';\n\ninstallWADOImageLoader();\n\nexport default () => {\n  const [log, setLog] = useState<string[]>(() => []);\n\n  const image: CornerstoneImage = useMemo(\n    () =>\n      new CornerstoneSingleImage(`wadouri:https://lunit-io.github.io/frontend-fixtures/dcm-files/series/CT000010.dcm`, {\n        unload: unloadImage,\n      }),\n    [],\n  );\n\n  const updateCornerstoneRenderData = useCallback((renderData: CornerstoneRenderData) => {\n    console.log('UPDATE RENDER DATA:', renderData);\n    setLog(prevLog => [...prevLog, `[update]: ${JSON.stringify(renderData.viewport)}`]);\n  }, []);\n\n  const resetTime = useMemo<number>(() => Date.now(), []);\n\n  return (\n    <div style={{ display: 'flex' }}>\n      <InsightViewer\n        width={400}\n        height={500}\n        invert={false} // \uc0c9\uc0c1\uc744 \ubc18\uc804\ud55c\ub2e4\n        flip={false} // \uc774\ubbf8\uc9c0\ub97c \uc88c\uc6b0\ub85c \ub4a4\uc9d1\ub294\ub2e4\n        pan={true} // Pan Interaction\uc744 \ud65c\uc131\ud654 \ud55c\ub2e4\n        adjust={false} // Adjust Interaction\uc744 \ud65c\uc131\ud654 \ud55c\ub2e4 (Pan\uacfc \ub3d9\uc2dc\uc5d0 \uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub2e4)\n        zoom={true} // Zoom Interaction\uc744 \ud65c\uc131\ud654 \ud55c\ub2e4\n        resetTime={resetTime} // \uc774 \uac12\uc774 \ubcc0\uacbd\ub418\uba74 Pan, Adjust, Zoom \uc0c1\ud0dc\uac00 \ucd08\uae30\ud654 \ub41c\ub2e4\n        image={image}\n        updateCornerstoneRenderData={updateCornerstoneRenderData}\n      />\n      <div style={{ height: 500, overflowY: 'auto' }}>\n        <ul style={{ fontSize: 11 }}>\n          {log.map((line, i) => (\n            <li key={i}>{line}</li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n"},878:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return s}));t(0);var r=t(62),a=t(7),o=t(89);const i={};function s({components:e,...n}){return Object(r.b)("wrapper",Object.assign({},i,n,{components:e,mdxType:"MDXLayout"}),Object(r.b)("h1",null,Object(r.b)("inlineCode",{parentName:"h1"},"interface CornerstoneRenderData")),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"cornerstone.EVENTS.IMAGE_RENDERED")," Event\uc5d0 \uc758\ud574\uc11c \ubc1c\uc0dd\ub418\ub294 \ub370\uc774\ud130\uc774\ub2e4."),Object(r.b)("p",null,"\ud654\uba74\uc744 \uadf8\ub824\ub0b4\ub294 \ub300\ubd80\ubd84\uc758 \uc0c1\ud669\uc5d0 \uc0ac\uc6a9\ub41c\ub2e4."),Object(r.b)("pre",null,Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"export interface CornerstoneRenderData {\n  /** cornerstone\uc774 \uadf8\ub9bc\uc744 \uadf8\ub9ac\uace0 \uc788\ub294 CanvasRenderingContext2D */\n  canvasContext: CanvasRenderingContext2D;\n  \n  /** cornerstone\uc774 \uadf8\ub9bc\uc744 \uadf8\ub9ac\uace0 \uc788\ub294 HTMLElement */\n  element: HTMLElement;\n  \n  /** \n   * cornerstone\uc758 Rendering\uc5d0 \uad00\ub828\ub41c \uc815\ubcf4\ub4e4\n   * \n   * - <HeatmapViewer>, <ContourViewer> \ub4f1 <InsightViewer>\uc640 \ud654\uba74\uc744 \ub3d9\uae30\ud654 \uc2dc\ud0a4\ub294 \uae30\ub2a5\uc744 \ub9cc\ub4e4 \ub54c \uc0ac\uc6a9\ub41c\ub2e4.\n   * - \uadf8 \uc678, \uc7a1\ub2e4\ud55c Rendering\uc5d0 \uad00\ub828\ub41c \uac70\uc758 \ub300\ubd80\ubd84\uc758 \uc815\ubcf4\ub4e4\uc744 \uc5bb\uc744 \uc218 \uc788\ub2e4\n   */\n  enabledElement: cornerstone.EnabledElement;\n  \n  /** \n   * cornerstone\uc774 \ud654\uba74\uc5d0 \uadf8\ub9ac\uace0 \uc788\ub294 Image \uac1d\uccb4 \n   * interface CornerstoneImage \uc640 \uc5f0\uad00\ub41c\ub2e4\n   * \n   * @see CornerstoneImage.image\n   */\n  image: cornerstone.Image;\n  \n  renderTimeInMs: number;\n  \n  /** \n   * cornerstone\uc774 \ud654\uba74\uc5d0 \uadf8\ub9ac\uace0 \uc788\ub294 Viewport \uc0c1\ud0dc\n   * \n   * - useViewportMirroring()\uacfc \uac19\uc774 <InsightViewer>\ub4e4\uc758 \ud654\uba74\uc744 \ub3d9\uae30\ud654 \uc2dc\ud0a4\ub294 \uae30\ub2a5\uc744 \ub9cc\ub4e4 \ub54c \uc0ac\uc6a9\ub41c\ub2e4.\n   * - \uadf8 \uc678, \ud604\uc7ac cornerstone \ud654\uba74 \uc0c1\ud0dc\uc5d0 \ub300\ud55c \uac70\uc758 \ub300\ubd80\ubd84\uc758 \uc815\ubcf4\ub4e4\uc73c \uc5bb\uc744 \uc218 \uc788\ub2e4\n   */\n  viewport: cornerstone.Viewport;\n}\n")),Object(r.b)("h1",null,Object(r.b)("inlineCode",{parentName:"h1"},"CornerstoneRenderData")," \uc5bb\uae30"),Object(r.b)("p",null,"\uc544\ub798\uc640 \uac19\uc774 ",Object(r.b)("inlineCode",{parentName:"p"},"<InsightViewer updateCornerstoneRenderData={(renderData: CornerstoneRenderData) => void} />"),"\ub97c \uc0ac\uc6a9\ud574\uc11c \uc5bb\uc744 \uc218 \uc788\ub2e4."),Object(r.b)(o.Example,{example:Object(a.b)("./CornerstoneRenderData/GetData",{component:t(770),source:t(771),filename:"src/_packages/@lunit/insight-viewer/__pages__/Basic/CornerstoneRenderData/GetData.tsx"}),mdxType:"Example"},Object(r.b)(o.Preview,{height:520,mdxType:"Preview"})),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\uc5bb\ub294 \ubc29\ubc95\uc774 \uad81\uae08\ud558\ub2e4\uba74 ",Object(r.b)("inlineCode",{parentName:"strong"},"InsightViewer")," Class\uc758 ",Object(r.b)("inlineCode",{parentName:"strong"},"onImageRenderered"),"\uc5d0\uc11c \ud655\uc778\ud560 \uc218 \uc788\ub2e4.")),Object(r.b)("pre",null,Object(r.b)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"export class InsightViewer extends Component<InsightViewerProps, {}> {\n  //code \uc0dd\ub7b5...\n\n  componentDidMount() {\n    // cornerstone\uc758 imagernderered event\ub97c \ubc1b\ub294\ub2e4.\n    // image\uac00 render \ub420\ub54c\ub9c8\ub2e4 context\ub85c enabledElement\ub97c \ubc30\ud3ec\ud574\uc8fc\uae30 \uc704\ud574 \ud544\uc694\ud558\ub2e4.\n    this.element.addEventListener(cornerstone.EVENTS.IMAGE_RENDERED, this.onImageRenderered);\n  }\n\n  componentWillUnmount() {\n    this.element.removeEventListener(cornerstone.EVENTS.IMAGE_RENDERED, this.onImageRenderered);\n  }\n\n  onImageRenderered = (event: cornerstone.CornerstoneEvent) => {\n    const eventData: cornerstone.CornerstoneEventData | undefined = event.detail;\n    if (\n      eventData &&\n      eventData.canvasContext &&\n      eventData.element &&\n      eventData.enabledElement &&\n      eventData.image &&\n      typeof eventData.renderTimeInMs === 'number' &&\n      eventData.viewport\n    ) {\n      this.currentViewport = eventData.viewport;\n      this.props.updateCornerstoneRenderData(eventData as CornerstoneRenderData);\n    } else {\n      console.error('CornerstoneEventData\uc5d0 \uc5c6\ub294 \uc815\ubcf4\uac00 \uc788\ub2e4???', eventData);\n    }\n  };\n}\n")),Object(r.b)("h1",null,"\uc5bb\uc740 ",Object(r.b)("inlineCode",{parentName:"h1"},"CornerstoneRenderData")," \uc0ac\uc6a9\ud558\uae30"),Object(r.b)("p",null,"\uc5bb\uc5b4\ub0b8 ",Object(r.b)("inlineCode",{parentName:"p"},"CornerstoneRenderData"),"\ub294 \uc544\ub798\uc640 \uac19\uc774 ",Object(r.b)("inlineCode",{parentName:"p"},"<HeatmapViewer>"),"\uc640 \uac19\uc740 \ud654\uba74 \ub3d9\uae30\ud654\ub97c \ud544\uc694\ub85c \ud558\ub294 \ub2e4\ub978 Component\uc5d0 \uc804\ub2ec\ud574\uc904 \uc218 \uc788\ub2e4."),Object(r.b)(o.Example,{example:Object(a.b)("./CornerstoneRenderData/SetData",{component:t(685),source:t(687),filename:"src/_packages/@lunit/insight-viewer/__pages__/Basic/CornerstoneRenderData/SetData.tsx"}),mdxType:"Example"},Object(r.b)(o.Preview,{height:520,mdxType:"Preview"})),Object(r.b)("p",null,"\ud639\uc740 \ub3d9\uae30\ud654 \ub3c4\uad6c\ub97c \uc0ac\uc6a9\ud574\uc11c \uc5ec\ub7ec\uac1c\uc758 ",Object(r.b)("inlineCode",{parentName:"p"},"<InsightViewer>"),"\ub4e4\uc744 \ub3d9\uae30\ud654 \uc2dc\ud0ac \uc218\ub3c4 \uc788\ub2e4."),Object(r.b)(o.Example,{example:Object(a.b)("./CornerstoneRenderData/MirrorData",{component:t(688),source:t(689),filename:"src/_packages/@lunit/insight-viewer/__pages__/Basic/CornerstoneRenderData/MirrorData.tsx"}),mdxType:"Example"},Object(r.b)(o.Preview,{height:520,mdxType:"Preview"})),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"\uc5bb\uc744 \ud544\uc694\uac00 \uc5c6\ub2e4\uba74")),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"updateCornerstoneRenderData: (renderData: CornerstoneRenderData) => void;"),"\uc740 \ud568\uc218\uc5ec\uc57c \ud558\uae30 \ub54c\ubb38\uc5d0 \ube48\uac12\uc774 \uc544\ub2c8\ub77c ",Object(r.b)("inlineCode",{parentName:"p"},"updateCornerstoneRenderData={() => {}}")," \ud568\uc218\ud615\ud0dc\ub85c \ub123\uc5b4\uc918\uc57c \ud55c\ub2e4."))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=15.4be4349ff7474e74e988.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{844:function(e,t,n){"use strict";n.r(t);var r=n(666),s=n(0),o=n.n(s);t.default=()=>{const[e,t]=Object(s.useState)([]);return Object(s.useEffect)(()=>{const e=new AbortController,n=Object(r.fetchBuffer)({url:"https://opt-frontend.s3.ap-northeast-2.amazonaws.com/fixtures/npy/image.npy",signal:e.signal}).subscribe(e=>{t("number"===typeof e?t=>[...t,`[progress] ${e}`]:t=>[...t,`[done] bytes: ${e.byteLength}`])});return()=>{e.abort(),n.unsubscribe()}},[]),o.a.createElement("ul",{style:{fontSize:11}},e.map((e,t)=>o.a.createElement("li",{key:t},e)))}},845:function(e,t,n){"use strict";n.r(t),t.default="import { fetchBuffer } from '@lunit/insight-viewer';\nimport React, { useEffect, useState } from 'react';\n\nexport default () => {\n  const [log, setLog] = useState<string[]>([]);\n\n  useEffect(() => {\n    const abort = new AbortController();\n    const subscription = fetchBuffer({\n      url: 'https://opt-frontend.s3.ap-northeast-2.amazonaws.com/fixtures/npy/image.npy',\n      signal: abort.signal,\n    }).subscribe(progressOrBytes => {\n      if (typeof progressOrBytes === 'number') {\n        setLog(prev => [...prev, `[progress] ${progressOrBytes}`]);\n      } else {\n        setLog(prev => [...prev, `[done] bytes: ${progressOrBytes.byteLength}`]);\n      }\n    });\n\n    return () => {\n      abort.abort();\n      subscription.unsubscribe();\n    };\n  }, []);\n\n  return (\n    <ul style={{ fontSize: 11 }}>\n      {log.map((line, i) => (\n        <li key={i}>{line}</li>\n      ))}\n    </ul>\n  );\n};\n"},846:function(e,t,n){"use strict";n.r(t);var r=n(666),s=n(0),o=n.n(s),a=n(32);t.default=()=>{const[e,t]=Object(s.useState)([]),[n,a]=Object(s.useState)(null);Object(s.useEffect)(()=>{if(n&&n.length>0){const e=new AbortController,s=Object(r.fileToBuffer)({signal:e.signal,blob:n[0].slice()}).subscribe(e=>{t("number"===typeof e?t=>[...t,`[progress] ${e}`]:t=>[...t,`[done] bytes: ${e.byteLength}`])});return()=>{e.abort(),s.unsubscribe()}}},[n]);const i=Object(s.useCallback)(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"},[]),c=Object(s.useCallback)(e=>{e.preventDefault(),e.dataTransfer.files.length>0&&/.npy$/.test(e.dataTransfer.files[0].name)&&a(e.dataTransfer.files)},[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement(l,{onDrop:c,onDragOver:i},"Drop CT npy File!"),o.a.createElement("ul",{style:{fontSize:11,marginLeft:220}},e.map((e,t)=>o.a.createElement("li",{key:t},e))))};const l=a.default.div`
  width: 200px;
  height: 200px;
  background-color: red;
  color: white;
  display: flex;
  justify-content: center;
  align-items: center;
  position: absolute;
  left: 10px;
  top: 10px;
`},847:function(e,t,n){"use strict";n.r(t),t.default="import { fileToBuffer } from '@lunit/insight-viewer';\nimport React, { DragEvent, useCallback, useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nexport default () => {\n  const [log, setLog] = useState<string[]>([]);\n\n  const [files, setFiles] = useState<FileList | null>(null);\n\n  useEffect(() => {\n    if (files && files.length > 0) {\n      const abort = new AbortController();\n      const subscription = fileToBuffer({\n        signal: abort.signal,\n        blob: files[0].slice(),\n      }).subscribe(progressOrBytes => {\n        if (typeof progressOrBytes === 'number') {\n          setLog(prev => [...prev, `[progress] ${progressOrBytes}`]);\n        } else {\n          setLog(prev => [...prev, `[done] bytes: ${progressOrBytes.byteLength}`]);\n        }\n      });\n\n      return () => {\n        abort.abort();\n        subscription.unsubscribe();\n      };\n    }\n  }, [files]);\n\n  const onDragOver = useCallback((event: DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'copy';\n  }, []);\n\n  const onDrop = useCallback((event: DragEvent<HTMLDivElement>) => {\n    event.preventDefault();\n\n    if (event.dataTransfer.files.length > 0 && /.npy$/.test(event.dataTransfer.files[0].name)) {\n      setFiles(event.dataTransfer.files);\n    }\n  }, []);\n\n  return (\n    <>\n      <DropTarget onDrop={onDrop} onDragOver={onDragOver}>\n        Drop CT npy File!\n      </DropTarget>\n\n      <ul style={{ fontSize: 11, marginLeft: 220 }}>\n        {log.map((line, i) => (\n          <li key={i}>{line}</li>\n        ))}\n      </ul>\n    </>\n  );\n};\n\nconst DropTarget = styled.div`\n  width: 200px;\n  height: 200px;\n  background-color: red;\n  color: white;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  left: 10px;\n  top: 10px;\n`;\n"},916:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));n(0);var r=n(62),s=n(7),o=n(89);const a={};function l({components:e,...t}){return Object(r.b)("wrapper",Object.assign({},a,t,{components:e,mdxType:"MDXLayout"}),Object(r.b)("h1",null,"Get ",Object(r.b)("inlineCode",{parentName:"h1"},"ArrayBuffer")),Object(r.b)("p",null,"CT \uad00\ub828 \uc774\ubbf8\uc9c0\ub294 Python NumPy (",Object(r.b)("inlineCode",{parentName:"p"},"*.npy"),") \ud615\uc2dd\uc73c\ub85c \ub118\uc5b4\uc624\uac8c \ub41c\ub2e4."),Object(r.b)("p",null,"NumPy Data\ub97c Bytes\ub85c \uc77d\uc5b4\ub4e4\uc5ec \uc0ac\uc6a9\ud574\uc57c \ud558\ubbc0\ub85c,"),Object(r.b)("p",null,"\uc77c\ub2e8 ",Object(r.b)("inlineCode",{parentName:"p"},"ArrayBuffer")," \ud615\ud0dc\uc758 \ub370\uc774\ud130\ub97c \uc5bb\uc744 \uc218 \uc788\ub294 \uc218\ub2e8\ub4e4\uc774 \ud544\uc694\ud558\ub2e4."),Object(r.b)("h1",null,Object(r.b)("inlineCode",{parentName:"h1"},"fetchBuffer()")),Object(r.b)("p",null,"URL \uc0c1\uc758 \ud30c\uc77c\uc744 ",Object(r.b)("inlineCode",{parentName:"p"},"ArrayBuffer"),"\ub85c \uac00\uc838\uc628\ub2e4."),Object(r.b)(o.Example,{example:Object(s.b)("./GetBytes/fetchBuffer",{component:n(844),source:n(845),filename:"src/_packages/@lunit/insight-viewer/__pages__/CT/GetBytes/fetchBuffer.tsx"}),mdxType:"Example"},Object(r.b)(o.Preview,{height:300,style:{overflowY:"auto"},mdxType:"Preview"})),Object(r.b)("h1",null,Object(r.b)("inlineCode",{parentName:"h1"},"fileToBuffer()")),Object(r.b)("p",null,"Drag and Drop\uc73c\ub85c \ub358\uc838\uc9c4 ",Object(r.b)("inlineCode",{parentName:"p"},"*.npy")," \ud30c\uc77c\uc744 ",Object(r.b)("inlineCode",{parentName:"p"},"ArrayBuffer"),"\ub85c \ubcc0\ud658\ud55c\ub2e4."),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Download file here \u2192 ",Object(r.b)("a",Object.assign({parentName:"p"},{href:"https://drive.google.com/file/d/16NtQKztrP6xRddscqtUigeW3--0FrhiH/view?usp=sharing"}),"https://drive.google.com/file/d/16NtQKztrP6xRddscqtUigeW3--0FrhiH/view?usp=sharing"))),Object(r.b)(o.Example,{example:Object(s.b)("./GetBytes/fileToBuffer",{component:n(846),source:n(847),filename:"src/_packages/@lunit/insight-viewer/__pages__/CT/GetBytes/fileToBuffer.tsx"}),mdxType:"Example"},Object(r.b)(o.Preview,{height:300,style:{overflowY:"auto"},mdxType:"Preview"})))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=20.40e1e17d9238929bb8b4.js.map
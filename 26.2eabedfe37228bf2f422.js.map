{"version":3,"sources":["webpack:///./src/_packages/@lunit/insight-viewer/__fixtures__/circle.ts","webpack:///./src/_packages/@lunit/insight-viewer/__pages__/Components/CircleViewer/Basic.tsx","webpack:///./src/_packages/@lunit/insight-viewer/__pages__/Components/CircleViewer/Basic.tsx?2092","webpack:///./src/_packages/@lunit/insight-viewer/__pages__/Components/CircleHover.mdx"],"names":["labelFunction","contour","id","initialContours","polygon","label","dataAttrs","installWADOImageLoader","controllerOptions","width","height","control","wheel","flip","invert","image","useMemo","CornerstoneSingleImage","unload","unloadImage","divElement","setDivElement","useState","cornerstoneRenderData","updateCornerstoneRenderData","useInsightViewerSync","contours","focusedContour","focusContour","useContour","mode","options","resetTime","ref","pan","adjust","zoom","length","hover","onFocus","layoutProps","MDXContent","components","props","mdxType","parentName","example","component","isMDXComponent"],"mappings":"2FAEO,SAASA,EAAcC,GAC5B,MAAQ,cAAaA,EAAQC,MAD/B,oEAIO,MAAMC,EAAyC,CACpD,CACEC,QAAS,CACP,CAAC,OAAQ,oBACT,CAAC,mBAAoB,qBAEvBC,MAAOL,EACPM,UAAW,CACT,gBAAiB,WAGrB,CACEF,QAAS,CACP,CAAC,kBAAmB,QACpB,CAAC,OAAQ,qBAEXC,MAAOL,EACPM,UAAW,CACT,gBAAiB,aAGrB,CACEF,QAAS,CACP,CAAC,mBAAoB,oBACrB,CAAC,mBAAoB,SAEvBC,MAAOL,EACPM,UAAW,CACT,gBAAiB,WAGrB,CACEF,QAAS,CACP,CAAC,mBAAoB,mBACrB,CAAC,mBAAoB,qBAEvBC,MAAOL,EACPM,UAAW,CACT,gBAAiB,e,iCC5CvB,6CAiBAC,mCAEA,MAAMC,EAAoD,CACxDC,MAAO,CAAC,IAAK,IAAK,KAClBC,OAAQ,CAAC,IAAK,IAAK,KACnBC,QAAS,CAAC,MAAO,CAAC,OAAQ,MAAO,WACjCC,MAAO,CAAC,OAAQ,CAAC,OAAQ,SACzBC,KAAM,EAAC,GACPC,OAAQ,EAAC,IAGI,eACb,MAAMC,EAA0BC,kBAC9B,IACE,IAAIC,yBAAwB,wEAAwE,CAClGC,OAAQC,gBAEZ,KAGKC,EAAYC,GAAiBC,mBAAgC,OAE9D,sBAAEC,EAAF,4BAAyBC,GAAgCC,kCAGzD,SAAEC,EAAF,eAAYC,EAAZ,aAA4BC,GAAiBC,qBAAW,CAC5DC,KAAM,SACN3B,sBAGF,OACE,kBAAC,8BAAD,CAA6B4B,QAASvB,GACnC,EAAGC,QAAOC,SAAQI,SAAQD,OAAMF,UAASC,QAAOoB,eAC/C,kBAAC,yBAAD,CAAwBC,IAAKZ,EAAeZ,MAAOA,EAAOC,OAAQA,GAChE,kBAAC,gBAAD,CACED,MAAOA,EACPC,OAAQA,EACRI,OAAQA,EACRD,KAAMA,EACNqB,IAAiB,QAAZvB,GAAqBS,EAC1Be,OAAoB,WAAZxB,GAAwBS,EAChCgB,KAAgB,SAAVxB,GAAoBQ,EAC1BY,UAAWA,EACXjB,MAAOA,EACPS,4BAA6BA,IAE9BE,GAAYA,EAASW,OAAS,GAAKd,GAClC,oCACE,kBAAC,eAAD,CACEd,MAAOA,EACPC,OAAQA,EACRgB,SAAUA,EACVC,eAAgBA,EAChBJ,sBAAuBA,IAEzB,kBAAC,cAAD,CACEe,MAAOlB,EACPX,MAAOA,EACPC,OAAQA,EACRgB,SAAUA,EACVa,QAASX,EACTL,sBAAuBA,S,iCC9EvC,OAAe,oqF,iCCCf,wFAQA,MAKMiB,EAAc,GAIL,SAASC,GAAW,WACjCC,KACGC,IAEH,OAAO,YALS,UAKT,iBAAeH,EAAiBG,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAE5E,sBAAI,0BAAYC,WAAW,MAAO,kBAClC,qBAAK,qDAAgC,0BAAYA,WAAW,KAAM,kBAA+B,yEACjG,qBAAG,0BAAYA,WAAW,KAAM,kBAA+B,iEAA6B,0BAAYA,WAAW,KAAM,iBAA8B,+DACvJ,qBAAK,yEAA2B,0BAAYA,WAAW,KAAM,kBAA+B,oEAAsB,0BAAYA,WAAW,KAAM,kBAA+B,oEAC9K,uBAAK,kCAAMA,WAAW,OAAU,CAC5B,UAAa,gBACV,yyBAsBP,YAAC,UAAD,CAASC,QAASC,YAAU,uBAAD,aAAC,KAAD,SAAC,KAAD,6FAA0BH,QAAQ,WAC/D,YAAC,IAAD,CAAsBlC,OAAQ,IAAKkC,QAAQ,2BAM7CH,EAAWO,gBAAiB","file":"26.2eabedfe37228bf2f422.js","sourcesContent":["import { Contour } from '@lunit/insight-viewer';\n\nexport function labelFunction(contour: Contour): string {\n  return `Annotation(${contour.id})`;\n}\n\nexport const initialContours: Omit<Contour, 'id'>[] = [\n  {\n    polygon: [\n      [340.48, 232.95999999999998],\n      [265.38666666666666, 232.10666666666668],\n    ],\n    label: labelFunction,\n    dataAttrs: {\n      'data-category': 'normal',\n    },\n  },\n  {\n    polygon: [\n      [173.2266666666667, 381.44],\n      [276.48, 400.21333333333337],\n    ],\n    label: labelFunction,\n    dataAttrs: {\n      'data-category': 'abnormal',\n    },\n  },\n  {\n    polygon: [\n      [419.84000000000003, 448.85333333333335],\n      [361.81333333333333, 407.04],\n    ],\n    label: labelFunction,\n    dataAttrs: {\n      'data-category': 'normal',\n    },\n  },\n  {\n    polygon: [\n      [174.93333333333334, 88.74666666666668],\n      [215.89333333333335, 129.70666666666665],\n    ],\n    label: labelFunction,\n    dataAttrs: {\n      'data-category': 'abnormal',\n    },\n  },\n];\n","import {\n  CircleViewer,\n  CircleHover,\n  CornerstoneImage,\n  CornerstoneSingleImage,\n  InsightViewer,\n  InsightViewerContainer,\n  InsightViewerControllerOptions,\n  InsightViewerTestController,\n  installWADOImageLoader,\n  unloadImage,\n  useContour,\n  useInsightViewerSync,\n} from '@lunit/insight-viewer';\nimport React, { useMemo, useState } from 'react';\nimport { initialContours } from '../../../__fixtures__/circle';\n\ninstallWADOImageLoader();\n\nconst controllerOptions: InsightViewerControllerOptions = {\n  width: [600, 400, 1000],\n  height: [700, 400, 1000],\n  control: ['pan', ['none', 'pan', 'adjust']],\n  wheel: ['zoom', ['none', 'zoom']],\n  flip: [false],\n  invert: [false],\n};\n\nexport default () => {\n  const image: CornerstoneImage = useMemo(\n    () =>\n      new CornerstoneSingleImage(`wadouri:https://fixtures.front.lunit.io/dcm-files/series/CT000010.dcm`, {\n        unload: unloadImage,\n      }),\n    [],\n  );\n\n  const [divElement, setDivElement] = useState<HTMLDivElement | null>(null);\n\n  const { cornerstoneRenderData, updateCornerstoneRenderData } = useInsightViewerSync();\n\n  // create contour data\n  const { contours, focusedContour, focusContour } = useContour({\n    mode: 'circle',\n    initialContours,\n  });\n\n  return (\n    <InsightViewerTestController options={controllerOptions}>\n      {({ width, height, invert, flip, control, wheel, resetTime }) => (\n        <InsightViewerContainer ref={setDivElement} width={width} height={height}>\n          <InsightViewer\n            width={width}\n            height={height}\n            invert={invert}\n            flip={flip}\n            pan={control === 'pan' && divElement}\n            adjust={control === 'adjust' && divElement}\n            zoom={wheel === 'zoom' && divElement}\n            resetTime={resetTime}\n            image={image}\n            updateCornerstoneRenderData={updateCornerstoneRenderData}\n          />\n          {contours && contours.length > 0 && cornerstoneRenderData && (\n            <>\n              <CircleViewer\n                width={width}\n                height={height}\n                contours={contours}\n                focusedContour={focusedContour}\n                cornerstoneRenderData={cornerstoneRenderData}\n              />\n              <CircleHover\n                hover={divElement}\n                width={width}\n                height={height}\n                contours={contours}\n                onFocus={focusContour}\n                cornerstoneRenderData={cornerstoneRenderData}\n              />\n            </>\n          )}\n        </InsightViewerContainer>\n      )}\n    </InsightViewerTestController>\n  );\n};\n","export default \"import {\\n  CircleViewer,\\n  CircleHover,\\n  CornerstoneImage,\\n  CornerstoneSingleImage,\\n  InsightViewer,\\n  InsightViewerContainer,\\n  InsightViewerControllerOptions,\\n  InsightViewerTestController,\\n  installWADOImageLoader,\\n  unloadImage,\\n  useContour,\\n  useInsightViewerSync,\\n} from '@lunit/insight-viewer';\\nimport React, { useMemo, useState } from 'react';\\nimport { initialContours } from '../../../__fixtures__/circle';\\n\\ninstallWADOImageLoader();\\n\\nconst controllerOptions: InsightViewerControllerOptions = {\\n  width: [600, 400, 1000],\\n  height: [700, 400, 1000],\\n  control: ['pan', ['none', 'pan', 'adjust']],\\n  wheel: ['zoom', ['none', 'zoom']],\\n  flip: [false],\\n  invert: [false],\\n};\\n\\nexport default () => {\\n  const image: CornerstoneImage = useMemo(\\n    () =>\\n      new CornerstoneSingleImage(`wadouri:https://fixtures.front.lunit.io/dcm-files/series/CT000010.dcm`, {\\n        unload: unloadImage,\\n      }),\\n    [],\\n  );\\n\\n  const [divElement, setDivElement] = useState<HTMLDivElement | null>(null);\\n\\n  const { cornerstoneRenderData, updateCornerstoneRenderData } = useInsightViewerSync();\\n\\n  // create contour data\\n  const { contours, focusedContour, focusContour } = useContour({\\n    mode: 'circle',\\n    initialContours,\\n  });\\n\\n  return (\\n    <InsightViewerTestController options={controllerOptions}>\\n      {({ width, height, invert, flip, control, wheel, resetTime }) => (\\n        <InsightViewerContainer ref={setDivElement} width={width} height={height}>\\n          <InsightViewer\\n            width={width}\\n            height={height}\\n            invert={invert}\\n            flip={flip}\\n            pan={control === 'pan' && divElement}\\n            adjust={control === 'adjust' && divElement}\\n            zoom={wheel === 'zoom' && divElement}\\n            resetTime={resetTime}\\n            image={image}\\n            updateCornerstoneRenderData={updateCornerstoneRenderData}\\n          />\\n          {contours && contours.length > 0 && cornerstoneRenderData && (\\n            <>\\n              <CircleViewer\\n                width={width}\\n                height={height}\\n                contours={contours}\\n                focusedContour={focusedContour}\\n                cornerstoneRenderData={cornerstoneRenderData}\\n              />\\n              <CircleHover\\n                hover={divElement}\\n                width={width}\\n                height={height}\\n                contours={contours}\\n                onFocus={focusContour}\\n                cornerstoneRenderData={cornerstoneRenderData}\\n              />\\n            </>\\n          )}\\n        </InsightViewerContainer>\\n      )}\\n    </InsightViewerTestController>\\n  );\\n};\\n\"","\nimport React from 'react'\nimport { mdx } from '@mdx-js/react'\n\n/* @jsx mdx */\nimport { component, source } from '@handbook/source';\nimport { Example } from '@handbook/components';\nimport { InsightViewerPreview } from '@lunit/handbook';\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  \n};\nconst MDXLayout = \"wrapper\"\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n    <h1><inlineCode parentName=\"h1\">{`<CircleHover>`}</inlineCode></h1>\n    <p>{`Contour의 Mouse Over Event를 위해 `}<inlineCode parentName=\"p\">{`<CircleDrawer>`}</inlineCode>{`에서 Drawing 기능만 뺀 Component이다.`}</p>\n    <p><inlineCode parentName=\"p\">{`<CircleViewer>`}</inlineCode>{`는 Mouse Over Event가 없기 때문에 `}<inlineCode parentName=\"p\">{`<CircleHover>`}</inlineCode>{`와 꼭 같이 써줘야 한다.`}</p>\n    <p>{`Focused Color를 변경하고자 한다면 `}<inlineCode parentName=\"p\">{`<CircleViewer>`}</inlineCode>{`에 Contour가 그려지기 때문에 `}<inlineCode parentName=\"p\">{`<CircleViewer>`}</inlineCode>{`를 통해 변경하여야 한다.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-ts\"\n      }}>{`export interface CircleHoverProps<T extends Contour> extends InsightViewerGuestProps {\n  width: number;\n  height: number;\n\n  /** Contour 데이터를 상속받은 Annotation 데이터 */\n  contours: T[];\n\n  /**\n   * Hover 기능 활성화 여부\n   * <InsightViewer> 와 마찬가지로 HTMLElement로 입력할 경우 MouseEvent를 해당 HTMLElement를 사용해서 처리한다.\n   */\n  hover: boolean | HTMLElement | null;\n\n  /**\n   * 특정 Contour에 Mouse Over 되었을 때\n   * focusedContour를 결정하는데 필요하다.\n   */\n  onFocus: (contour: T | null) => void;\n\n  className?: string;\n}\n`}</code></pre>\n    <Example example={component('./CircleViewer/Basic')} mdxType=\"Example\">\n  <InsightViewerPreview height={720} mdxType=\"InsightViewerPreview\" />\n    </Example>\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"],"sourceRoot":""}
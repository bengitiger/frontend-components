(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{903:function(e,t,n){"use strict";n.r(t),t.default="import { DependencyList, useEffect } from 'react';\n\ninterface UseShortcutParameters {\n  /** KeyboardEvent Test */\n  test: (event: KeyboardEvent) => boolean;\n\n  /** Shortcut Handler */\n  callback: () => void;\n\n  /** @deprecated \uc785\ub825\ud558\uc9c0 \uc54a\uc544\ub3c4 \ub41c\ub2e4 */\n  deps?: DependencyList;\n\n  /** Popup\uacfc \uac19\uc774 \uc5ec\ub7ec\uac1c\uc758 Window\ub97c \uc77c\uad04 \ud1b5\uc81c\ud574\uc57c \ud558\ub294 \uacbd\uc6b0 */\n  windows?: Window[];\n}\n\nexport function useShortcut({ test, callback, windows = [window] }: UseShortcutParameters) {\n  useEffect(() => {\n    function handler(event: KeyboardEvent) {\n      // event.target instanceof HTMLElement ) block... from input, text field...\n      if (test(event)) {\n        callback();\n      }\n    }\n\n    windows.forEach(window => window.addEventListener('keyup', handler));\n\n    return () => {\n      windows.forEach(window => window.removeEventListener('keyup', handler));\n    };\n  }, [test, callback, windows]);\n}\n\nexport const key = (\n  key: string | string[],\n  { ctrl = false, alt = false, shift = false }: { ctrl?: boolean; alt?: boolean; shift?: boolean } = {},\n) => (event: KeyboardEvent) => {\n  const keys: string[] = typeof key === 'string' ? [key.toLowerCase()] : key.map(k => k.toLowerCase());\n\n  return (\n    keys.indexOf(event.key.toLowerCase()) > -1 &&\n    (ctrl ? event.ctrlKey : true) &&\n    (alt ? event.altKey : true) &&\n    (shift ? event.shiftKey : true)\n  );\n};\n"},904:function(e,t,n){"use strict";n.r(t),t.default="import { key, useShortcut } from '@lunit/use-shortcut';\nimport React, { ReactNode, useState } from 'react';\n\nexport default () => {\n  const [result, setResult] = useState<ReactNode>(null);\n\n  useShortcut({\n    // \uc9c1\uc811 KeyboardEvent\ub97c \ubc1b\uc544\uc11c \ucc98\ub9ac\ud574\ub3c4 \ub418\uace0,\n    test: event => event.key.toLowerCase() === 'a',\n    callback: () => setResult('\ud83c\udf4f'),\n  });\n\n  useShortcut({\n    // key()\ub97c \uc0ac\uc6a9\ud574\ub3c4 \ub41c\ub2e4\n    test: key('b'),\n    callback: () => setResult('\ud83c\udf4c'),\n  });\n\n  useShortcut({\n    test: key('c'),\n    callback: () => setResult('\ud83c\udf52'),\n  });\n\n  useShortcut({\n    // \uc5ec\ub7ec\uac1c\uc758 key\ub97c \ud560\ub2f9\ud560 \uc218\ub3c4 \uc788\ub2e4\n    test: key(['d', 'e']),\n    callback: () => setResult('\ud83d\udcd6'),\n  });\n\n  useShortcut({\n    // ctrl, alt, shift \ub97c \uac19\uc774 \ud560\ub331\ud560 \uc218\ub3c4 \uc788\ub2e4\n    // Browser, OS Key\ub4e4\uc774 \ubcf4\ud1b5 Meta key\uc640 \ud568\uaed8 \ubc1c\ub3d9\ub418\uae30 \ub54c\ubb38\uc5d0 \uac00\ub2a5\ud55c \uc0ac\uc6a9\ud558\uc9c0 \uc54a\ub294\uac8c \uc88b\ub2e4.\n    test: key('f', { ctrl: true }),\n    callback: () => setResult('\ud83d\ude92'),\n  });\n\n  return (\n    <div>\n      <p>Key down \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"</p>\n      {result}\n    </div>\n  );\n};\n"},905:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s);function c({test:e,callback:t,windows:n=[window]}){Object(s.useEffect)(()=>{function s(n){e(n)&&t()}return n.forEach(e=>e.addEventListener("keyup",s)),()=>{n.forEach(e=>e.removeEventListener("keyup",s))}},[e,t,n])}const o=(e,{ctrl:t=!1,alt:n=!1,shift:s=!1}={})=>a=>("string"===typeof e?[e.toLowerCase()]:e.map(e=>e.toLowerCase())).indexOf(a.key.toLowerCase())>-1&&(!t||a.ctrlKey)&&(!n||a.altKey)&&(!s||a.shiftKey);t.default=()=>{const[e,t]=Object(s.useState)(null);return c({test:e=>"a"===e.key.toLowerCase(),callback:()=>t("\ud83c\udf4f")}),c({test:o("b"),callback:()=>t("\ud83c\udf4c")}),c({test:o("c"),callback:()=>t("\ud83c\udf52")}),c({test:o(["d","e"]),callback:()=>t("\ud83d\udcd6")}),c({test:o("f",{ctrl:!0}),callback:()=>t("\ud83d\ude92")}),a.a.createElement("div",null,a.a.createElement("p",null,'Key down "a", "b", "c", "d", "e", "f"'),e)}},957:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));n(0);var s=n(62),a=n(7),c=n(89);const o={};function r({components:e,...t}){return Object(s.b)("wrapper",Object.assign({},o,t,{components:e,mdxType:"MDXLayout"}),Object(s.b)("h1",null,Object(s.b)("inlineCode",{parentName:"h1"},"@lunit/use-shortcut")),Object(s.b)("p",null,"\ub2e8\ucd95\ud0a4\ub97c \uad6c\ud604\ud558\uae30 \uc704\ud55c React Hook"),Object(s.b)("h1",null,"API"),Object(s.b)(c.Example,{example:Object(a.d)("@lunit/use-shortcut/index",{source:n(903),filename:"src/_packages/@lunit/use-shortcut/index.ts"}),api:!0,mdxType:"Example"}),Object(s.b)("h1",null,"Sample"),Object(s.b)(c.Example,{example:Object(a.b)("./Sample",{component:n(905),source:n(904),filename:"src/_packages/@lunit/use-shortcut/__pages__/Sample.tsx"}),mdxType:"Example"},Object(s.b)(c.Preview,{height:120,mdxType:"Preview"})))}r.isMDXComponent=!0}}]);
//# sourceMappingURL=38.45b5470106c6da231db7.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{672:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return h}));var a=n(0),r=n.n(a);function i(e){let t,n,a;const r=Math.max(Math.min(e,1),0);return r<.25?(t=0,n=4*r,a=1):r<.5?(t=0,n=1,a=1+4*(.25-r)):r<.75?(t=4*(r-.5),n=1,a=0):(t=1,n=1+4*(.75-r),a=0),[255*t<<0,255*n<<0,255*a<<0]}function c({stop:e,threshold:t}){const n=function({stop:e,threshold:t}){return e<t?0:.75*(e-t)/(1-t)}({stop:e,threshold:t});if(n<=0)return[0,0,0,0];const[a,r,c]=i(e);return[a,r,c,n]}function l({width:e,height:t,threshold:n}){return Object(a.useMemo)(()=>{const a=document.createElement("canvas");if(!a)return null;const r=window.devicePixelRatio,i=e*r,l=t*r;a.setAttribute("width",i.toString()),a.setAttribute("height",l.toString());const o=a.getContext("2d");if(!o)return null;let h=i+1;for(;--h>=0;)o.beginPath(),o.fillStyle=`rgba(${c({stop:h/i,threshold:n})})`,o.fillRect(h,0,1,l),o.closePath();return a.toDataURL()},[n,e,t])}function o({threshold:e=0,width:t,height:n,...a}){const i=l({width:t,height:n,threshold:e});return i?r.a.createElement("image",Object.assign({},a,{xlinkHref:i,width:t,height:n})):null}function h(e,t){const n=e[0].length,a=e.length,r=document.createElement("canvas").getContext("2d").createImageData(n,a),c=r.data;let l=-1;for(;++l<a;){let a=-1;for(;++a<n;){const r=4*(l*n+a),o=e[l][a];if(o<t)c[r]=0,c[r+1]=0,c[r+2]=0,c[r+3]=0;else{const e=(o-t)/(1-t),[n,a,l]=i(e);c[r]=n,c[r+1]=a,c[r+2]=l,c[r+3]=196*e<<0}}}return r}},753:function(e,t,n){e.exports=n.p+"useHeatmapScaleImageURIPreview.08bd777f9252ec29f1f8d902ba77d074.png"},754:function(e,t,n){e.exports=n.p+"heatmapScaleSVGImagePreview.f34c732a4af62a919218650a196f8320.png"},755:function(e,t,n){"use strict";n.r(t),t.default="import { useMemo } from 'react';\nimport { getRGBAArray } from '../draw/getRGBAArray';\n\ninterface UseHeatmapScaleImageURIParameters {\n  width: number;\n  height: number;\n  threshold: number;\n}\n\n/**\n * `width x height` \uc0ac\uc774\uc988\uc758 Reactangle Image\ub97c \ub9cc\ub4e4\uc5b4\uc900\ub2e4. Image\ub294 Data URI \ud615\ud0dc\ub85c \uc804\ub2ec\ub418\uae30 \ub54c\ubb38\uc5d0 `<img src={uri}/>`\ub098 `<image xlink:href={uri}/>`\ub85c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.\n */\nexport function useHeatmapScaleImageURI({\n  width,\n  height,\n  threshold,\n}: UseHeatmapScaleImageURIParameters): string | null {\n  return useMemo<string | null>(() => {\n    const canvas: HTMLCanvasElement | null = document.createElement('canvas');\n    if (!canvas) return null;\n\n    const ratio: number = window.devicePixelRatio;\n    const w: number = width * ratio;\n    const h: number = height * ratio;\n\n    canvas.setAttribute('width', w.toString());\n    canvas.setAttribute('height', h.toString());\n\n    const ctx: CanvasRenderingContext2D | null = canvas.getContext('2d');\n    if (!ctx) return null;\n\n    let i: number = w + 1;\n    while (--i >= 0) {\n      ctx.beginPath();\n      ctx.fillStyle = `rgba(${getRGBAArray({ stop: i / w, threshold })})`;\n      ctx.fillRect(i, 0, 1, h);\n      ctx.closePath();\n    }\n\n    return canvas.toDataURL();\n  }, [threshold, width, height]);\n}\n"},756:function(e,t,n){"use strict";n.r(t);var a=n(672),r=n(0),i=n.n(r);t.default=()=>{const e=Object(a.c)({width:300,height:100,threshold:.1});return e?i.a.createElement("img",{src:e,style:{width:300,height:100,backgroundColor:"#000000"},alt:"test"}):null}},757:function(e,t,n){"use strict";n.r(t),t.default="import { useHeatmapScaleImageURI } from '@lunit/heatmap';\nimport React from 'react';\n\nexport default () => {\n  const width: number = 300;\n  const height: number = 100;\n  const threshold: number = 0.1;\n\n  const dataUri: string | null = useHeatmapScaleImageURI({ width, height, threshold });\n\n  return dataUri ? <img src={dataUri} style={{ width, height, backgroundColor: '#000000' }} alt=\"test\" /> : null;\n};\n"},758:function(e,t,n){"use strict";n.r(t),t.default="import React, { SVGProps } from 'react';\nimport { useHeatmapScaleImageURI } from '../hooks/useHeatmapScaleImageURI';\n\nexport interface HeatmapScaleImageProps extends SVGProps<SVGImageElement> {\n  threshold?: number;\n  width: number;\n  height: number;\n}\n\n/**\n * `width x height` \ud615\ud0dc\uc758 Rectangle SVG <image/>. <svg> \ub0b4\uc5d0\uc11c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4.\n */\nexport function HeatmapScaleSVGImage({ threshold = 0, width, height, ...imageProps }: HeatmapScaleImageProps) {\n  const dataUri: string | null = useHeatmapScaleImageURI({ width, height, threshold });\n\n  return dataUri ? <image {...imageProps} xlinkHref={dataUri} width={width} height={height} /> : null;\n}\n"},759:function(e,t,n){"use strict";n.r(t);var a=n(672),r=n(0),i=n.n(r);t.default=()=>i.a.createElement("svg",{width:300,height:100},i.a.createElement("rect",{width:300,height:100,fill:"#000000"}),i.a.createElement(a.a,{width:300,height:100,threshold:.1}))},760:function(e,t,n){"use strict";n.r(t),t.default="import { HeatmapScaleSVGImage } from '@lunit/heatmap';\nimport React from 'react';\n\nexport default () => {\n  const width: number = 300;\n  const height: number = 100;\n  const threshold: number = 0.1;\n\n  return (\n    <svg width={width} height={height}>\n      <rect width={width} height={height} fill=\"#000000\" />\n      <HeatmapScaleSVGImage width={width} height={height} threshold={threshold} />\n    </svg>\n  );\n};\n"},875:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));n(0);var a=n(62),r=n(7),i=n(89),c=n(753),l=n.n(c),o=n(754),h=n.n(o);const m={};function s({components:e,...t}){return Object(a.b)("wrapper",Object.assign({},m,t,{components:e,mdxType:"MDXLayout"}),Object(a.b)("h1",null,Object(a.b)("inlineCode",{parentName:"h1"},"useHeatmapScaleImageURI()")),Object(a.b)("p",null,"UI \uc0c1\uc5d0\uc11c Heatmap Scale Indicator\ub97c \ub9cc\ub4e4\ub54c \uc0ac\uc6a9\ud55c\ub2e4."),Object(a.b)(i.Example,{example:Object(r.d)("../hooks/useHeatmapScaleImageURI",{source:n(755),filename:"src/_packages/@lunit/heatmap/hooks/useHeatmapScaleImageURI.ts"}),api:!0,mdxType:"Example"}),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"<canvas>"),"\uc5d0 \ub80c\ub354\ub9c1 \ud560 \ub54c \ud544\uc694\ud558\uba70, \ubcf4\ud1b5\uc758 \uacbd\uc6b0 ",Object(a.b)("inlineCode",{parentName:"p"},"<HeatmapScaleSVGImage>"),"\ub97c \uc0ac\uc6a9\ud558\uba74 \ub41c\ub2e4."),Object(a.b)("img",{src:l.a,style:{maxWidth:600}}),Object(a.b)(i.Example,{example:Object(r.b)("./Samples/useHeatmapScaleImageURI",{component:n(756),source:n(757),filename:"src/_packages/@lunit/heatmap/__pages__/Samples/useHeatmapScaleImageURI.tsx"}),mdxType:"Example"},Object(a.b)(i.Preview,{height:120,mdxType:"Preview"})),Object(a.b)("h1",null,Object(a.b)("inlineCode",{parentName:"h1"},"<HeatmapScaleSVGImage>")),Object(a.b)(i.Example,{example:Object(r.d)("../components/HeatmapScaleSVGImage",{source:n(758),filename:"src/_packages/@lunit/heatmap/components/HeatmapScaleSVGImage.tsx"}),api:!0,mdxType:"Example"}),Object(a.b)("p",null,Object(a.b)("inlineCode",{parentName:"p"},"useHeatmapScaleImageURI()"),"\ub97c SVG ",Object(a.b)("inlineCode",{parentName:"p"},"<image>"),"\ub85c \ub9cc\ub4e4\uc5b4\uc900\ub2e4."),Object(a.b)("img",{src:h.a,style:{maxWidth:800}}),Object(a.b)("p",null,"SVG\ub85c Scale Indicator\ub97c \ub9cc\ub4e4\ub824\ud560\ub54c \uac04\ub2e8\ud558\uac8c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4."),Object(a.b)(i.Example,{example:Object(r.b)("./Samples/HeatmapScaleSVGImage",{component:n(759),source:n(760),filename:"src/_packages/@lunit/heatmap/__pages__/Samples/HeatmapScaleSVGImage.tsx"}),mdxType:"Example"},Object(a.b)(i.Preview,{height:120,mdxType:"Preview"})))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=8.4df3d27af3d2d49331b1.js.map